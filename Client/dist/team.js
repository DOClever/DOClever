webpackJsonp([2],{101:function(e,t,n){var o=n(1)(n(191),n(302),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamUserOwner.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamUserOwner.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},11:function(e,t,n){(function(t,o,r){var s=n(8),i=n(6),a=n(17);e.exports={props:["transparent"],mixins:[i],data:function(){return{showTeam:!1,applyPending:!1,applyName:"",applyDis:"",newMsg:!1,proxy:!!t.get("proxy"),bShowApply:!(document.title.indexOf("DOClever")>-1),admin:sessionStorage.getItem("admin"),adminPhoto:"/html/web/pic/admin/admin.jpeg",adminPage:location.href.indexOf("admin.html")>-1?1:0}},directives:{proxy:s},watch:{proxy:function(e){e?(t.set("proxy",1),o.tip("Proxy代理已开启",1)):(t.remove("proxy"),o.tip("Proxy代理已关闭",1))}},methods:{handleCommand:function(e){if("team"==e)location.href="/html/web/team/team.html";else if("list"==e)location.href="/html/web/project/project.html";else if("apply"==e)this.showTeam=!0,document.getElementById("navBar").style.zIndex="",this.$refs.team.$on("close",function(){document.getElementById("navBar").style.zIndex=100});else if("setting"==e)location.href="/html/web/person/person.html";else if("message"==e){var s=this;o.startHud(),r.get("/message/list",{page:0}).then(function(e){if(o.stopHud(),200==e.code){s.newMsg=!1,document.getElementById("navBar").style.zIndex="";o.showBox(s,n(13),{propArr:e.data}).$on("close",function(){document.getElementById("navBar").style.zIndex=100})}else o.notify(e.msg,0)})}else if("update"==e){var i=new XMLHttpRequest;o.startHud(),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){o.stopHud();for(var e=JSON.parse(i.responseText),t=e[0].name.split("."),n=a.version.split("."),r=!1,s=0;s<3;s++){if(t[s]>n[s]){r=!0;break}if(t[s]<n[s])break}r?o.confirm("已发现新版本"+t.join(".")+" 是否现在下载？",function(){window.open(e[0].zipball_url,"_blank")}):o.tip("已经是最新版本了",1)}},i.open("GET","https://api.github.com/repos/sx1989827/DOClever/tags?timestamp="+(new Date).getTime(),!0),i.send()}else if("quit"==e){var s=this;this.adminPage?r.post("/admin/logout",{}).then(function(e){200==e.code&&(s.$notify({title:"退出成功",type:"success"}),sessionStorage.removeItem("admin"),setTimeout(function(){location.href="/"},1e3))}):r.post("/user/logout",{}).then(function(e){200==e.code&&(s.$notify({title:"退出成功",type:"success"}),t.clear(),setTimeout(function(){location.href="/"},1e3))})}},applyTeam:function(){if(!this.applyName)return void o.tip("请输入团队ID",0);this.applyPending=!0;var e=this;r.put("/team/userapply",{id:this.applyName,dis:this.applyDis}).then(function(t){e.applyPending=!1,e.applyName="",e.applyDis="",200==t.code?(o.notify("请求已发送，等待团队管理员响应",1),e.showTeam=!1):o.notify(t.msg,0)})}},created:function(){var e;this.$nextTick(function(){e=document.getElementById("navBar"),e.style.zIndex=100});var n=this;this.transparent&&o.addEventListener(window,"scroll",function(){document.body.scrollTop>50?(e.style.position="fixed",e.style.top=0,e.style.backgroundColor="rgb(39,52,68)"):(e.style.top=0,e.style.backgroundColor="rgba(0,0,0,0.3)",e.style.position="absolute")}),t.get("id")&&r.get("/message/new").then(function(e){200==e.code?n.newMsg=e.data:o.notify(e.msg,0)})}}}).call(t,n(3),n(0),n(2))},116:function(e,t,n){var o=n(1)(n(186),n(274),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamInfo.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamInfo.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},117:function(e,t,n){n(328);var o=n(1)(n(187),n(304),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamProjectList.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamProjectList.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},118:function(e,t,n){var o=n(1)(n(190),n(265),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamUser.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamUser.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},12:function(e,t,n){(function(t,o){var r=n(16);e.exports={props:["propArr"],data:function(){return{arr:this.propArr,page:0,clearPending:!1,loading:!1,finish:!1,showDialog:!1}},directives:{scroll:r},methods:{remove:function(e,n){var r=this;t.confirm("是否删除该消息",function(){t.startHud(),o.delete("/message/item",{id:e._id}).then(function(e){t.stopHud(),200==e.code?(t.notify("删除成功",1),r.arr.splice(n,1)):t.notify(e.msg,0)})})},clear:function(){var e=this;t.confirm("是否清空所有消息",function(){e.clearPending=!0,o.delete("/message/clear").then(function(n){e.clearPending=!1,200==n.code?(t.notify("清空成功",1),e.$refs.box.close()):t.notify(n.msg,0)})})},loadMore:function(e){var n=this;this.loading=!0,o.get("/message/list",{page:++this.page}).then(function(o){200==o.code?(n.loading=!1,o.data.length>0?(n.arr=n.arr.concat(o.data),e()):(e(1),n.finish=!0)):t.notify(o.msg,0)})}}}}).call(t,n(0),n(2))},121:function(e,t,n){(function(t){e.exports=new t.Store({state:{team:{},notice:[],project:[],user:[],role:0},getters:{userCount:function(e,t){return e.user.length},interfaceCount:function(e,t){var n=0;return e.project.forEach(function(e){n+=e.interfaceCount}),n},projectCount:function(e,t){return e.project.length},ownRole:function(e){return 2==e.role},manageRole:function(e){return 2==e.role||0==e.role}},mutations:{setTeam:function(e,t){e.team=t,e.notice=t.notice,e.project=t.project,e.user=t.user,e.role=t.role}}})}).call(t,n(34))},13:function(e,t,n){var o=n(1)(n(12),n(14),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/component/message.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] message.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},14:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"消息中心",size:"small"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{directives:[{name:"scroll",rawName:"v-scroll",value:e.loadMore,expression:"loadMore"}],staticClass:"row",staticStyle:{height:"300px","overflow-y":"auto"}},[e._l(e.arr,function(t){return[n("el-row",{staticClass:"row",staticStyle:{"font-size":"17px",height:"30px","line-height":"30px"}},[e._v("\n                "+e._s(t.name)+"\n            ")]),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{"font-size":"15px"}},[e._v("\n                "+e._s(t.dis)+"\n            ")]),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{color:"gray",height:"30px","line-height":"30px"}},[e._v("\n                "+e._s(t.createdAt)+"   \n                "),n("el-button",{staticStyle:{color:"#FF4949"},attrs:{type:"text",size:"small",icon:"delete2",titile:"删除"},on:{click:function(n){e.remove(t,e.index)}}})],1)]}),e._v(" "),e.finish?e._e():n("el-row",{staticClass:"row",staticStyle:{height:"30px"},attrs:{loading:e.loading}})],2),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"danger",loading:e.clearPending},on:{click:e.clear}},[e._v("\n            清空消息\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},15:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"row",staticStyle:{"box-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.15)"},style:e.transparent?{height:"50px",backgroundColor:"rgba(0,0,0,0.3)",left:0,top:0,position:"absolute"}:{height:"50px",backgroundColor:"white"},attrs:{id:"navBar"}},[e._t("other"),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"left","line-height":"50px",color:"#50bfff","font-size":"25px","padding-left":"20px"},attrs:{span:3}},[n("a",{staticStyle:{"text-decoration":"none",cursor:"pointer",color:"inherit"},attrs:{href:"/"}},[e._v("DOClever")])]),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[e._t("slot3")],2),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[e._t("slot4")],2),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:1}}),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px","font-size":"25px",color:"#50bfff","white-space":"nowrap","text-overflow":"ellipsis"},attrs:{span:8}},[e._t("title")],2),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[e._t("slot1")],2),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[e._t("slot2")],2),e._v(" "),e.session.id||e.adminPage?n("el-col",{staticClass:"col",staticStyle:{"white-space":"nowrap","text-align":"center","line-height":"50px"},attrs:{span:4}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:e.adminPage?e.adminPhoto:e.session.photo,expression:"adminPage?adminPhoto:session.photo"}],staticStyle:{width:"40px",height:"40px","border-radius":"50%","margin-top":"5px"}}),e._v(" \n        "),n("el-dropdown",{staticStyle:{top:"-15px"},on:{command:e.handleCommand}},[e.adminPage?n("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#50bfff",cursor:"pointer"}},[n("span",[e._v("\n                    "+e._s(e.admin)+"\n                ")]),e._v(" "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):n("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#50bfff",cursor:"pointer"}},[e.newMsg?n("el-badge",{staticClass:"msgBadge",attrs:{"is-dot":""}},[e._v("\n                    "+e._s(e.session.name)+"\n                ")]):n("span",[e._v("\n                    "+e._s(e.session.name)+"\n                ")]),e._v(" "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})],1),e._v(" "),e.adminPage?n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"quit"}},[e._v("退出")])],1):n("el-dropdown-menu",{slot:"dropdown"},[e.session.team?n("el-dropdown-item",{attrs:{command:"team"}},[e._v("团队首页")]):e._e(),e._v(" "),n("el-dropdown-item",{attrs:{command:"list"}},[e._v("返回列表")]),e._v(" "),e.bShowApply?n("el-dropdown-item",{attrs:{command:"apply"}},[e._v("团队申请")]):e._e(),e._v(" "),n("el-dropdown-item",{attrs:{command:"setting"}},[e._v("个人设置")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"message"}},[e.newMsg?n("el-badge",{staticClass:"msgBadge",attrs:{"is-dot":""}},[e._v("\n                        消息中心\n                    ")]):n("span",[e._v("\n                        消息中心\n                    ")])],1),e._v(" "),n("el-dropdown-item",[e._v("\n                    Proxy:"),n("br"),e._v(" "),n("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.proxy,callback:function(t){e.proxy=t},expression:"proxy"}})],1),e._v(" "),n("el-dropdown-item",{attrs:{command:"update"}},[e._v("检查更新")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"quit"}},[e._v("退出")])],1)],1)],1):e._e(),e._v(" "),e.session.id||e.adminPage?e._e():n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[n("el-button",{attrs:{type:"info",onclick:"location='/html/web/login/login.html'"}},[e._v("登录")])],1),e._v(" "),e.session.id||e.adminPage?e._e():n("el-col",{staticClass:"col",staticStyle:{"text-align":"center","line-height":"50px"},attrs:{span:2}},[n("el-button",{attrs:{type:"success",onclick:"location='/html/web/register/register.html'"}},[e._v("注册")])],1),e._v(" "),n("el-dialog",{ref:"team",attrs:{title:"团队申请",size:"small"},model:{value:e.showTeam,callback:function(t){e.showTeam=t},expression:"showTeam"}},[n("el-form",{ref:"form",attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"团队ID"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入你要申请的团队ID"},model:{value:e.applyName,callback:function(t){e.applyName=t},expression:"applyName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:2,placeholder:"请输入你要申请的备注"},model:{value:e.applyDis,callback:function(t){e.applyDis=t},expression:"applyDis"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.showTeam=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.applyPending},on:{click:e.applyTeam}},[e._v("确 定")])],1)],1)],2)},staticRenderFns:[]},e.exports.render._withStripped=!0},16:function(e,t){var n={bind:function(e,t,n){function o(t){e.removeAttribute("scrolling"),1==t&&e.removeEventListener("scroll",r)}function r(n){e.scrollTop+e.clientHeight>=e.scrollHeight-50&&!e.hasAttribute("scrolling")&&t.value&&(e.setAttribute("scrolling","1"),t.value(o))}e.addEventListener("scroll",r)},unbind:function(e){},update:function(e,t){}};e.exports=n},17:function(e,t){e.exports={version:"4.2.0"}},185:function(e,t,n){(function(t,o){var r=n(8);e.exports={props:["arr","id"],data:function(){return{searchName:"",arrUser:this.arr,savePending:!1,arrUserSearch:[],showDialog:!1}},computed:{arrFilter:function(){if(!this.searchName)return this.arrUser;this.arrUserSearch=[];var e=this;return this.arrUser.forEach(function(n){var o=t.clone(n);o.users=o.users.filter(function(t){return t.user.name.toLowerCase().indexOf(e.searchName.toLowerCase())>-1}),o.users.length>0&&e.arrUserSearch.push(o)}),this.arrUserSearch}},directives:{proxy:r},methods:{transfer:function(e){var n=this;t.confirm("是否确认将该项目转让给用户"+e.user.name,function(){t.startHud(),o.put("/project/owner",{id:n.id,user:e.user._id}).then(function(o){t.stopHud(),200==o.code?(n.showDialog=!1,t.notify("转让成功",1),1==e.select&&n.$emit("userMinus")):t.notify(o.msg,0)})})}}}}).call(t,n(0),n(2))},186:function(e,t,n){(function(t,o,r){var s=n(6);e.exports={data:function(){return{infoPending:!1,deletePending:!1,moreLoading:!1,page:0,more:!0}},mixins:[s],computed:{obj:function(){return this.$store.state.team},projectCount:function(){return this.$store.getters.projectCount},interfaceCount:function(){return this.$store.getters.interfaceCount},userCount:function(){return this.$store.getters.userCount},notice:function(){return this.$store.state.notice},ownRole:function(){return this.$store.getters.ownRole},manageRole:function(){return this.$store.getters.manageRole}},methods:{saveInfo:function(){var e=this;this.infoPending=!0,t.post("/team/save",{id:o.get("teamId"),dis:e.$store.state.team.dis,name:e.$store.state.team.name}).then(function(t){e.infoPending=!1,t.code?(o.set("teamName",t.data.name),e.$root.session.teamName=t.data.name,r.notify("修改成功",1)):r.notify(t.msg,0)})},removeTeam:function(){var e=this;this.ownRole?r.confirm("确定删除该团队？",function(){e.deletePending=!0,t.delete("/team/item",{id:o.get("teamId")}).then(function(t){e.deletePending=!1,200==t.code&&(r.notify("删除成功",1),setTimeout(function(){location.href="../../project/project.html"},1500))})}):r.confirm("确定退出该团队？你同时也会退出团队中的项目",function(){e.deletePending=!0,t.delete("/team/projectuser",{id:o.get("teamId"),user:o.get("id")}).then(function(s){if(200==s.code)if(s.data.length>0){e.deletePending=!1;var i=r.showBox(e,n(101),{arr:s.data,user:o.get("id"),self:1});i.$on("remove",function(){setTimeout(function(){location.href="../../project/project.html"},1500)})}else t.delete("/team/user",{id:o.get("teamId"),user:o.get("id"),self:1}).then(function(t){e.deletePending=!1,200==t.code?(r.notify("删除成功",1),setTimeout(function(){location.href="../../project/project.html"},1500)):r.notify(t.msg,0)});else e.deletePending=!1,r.notify(s.msg,0)})})},removeNotice:function(e,n){var s=this;r.confirm("是否删除该公告?",function(){t.delete("/team/notice",{id:o.get("teamId"),notice:e._id}).then(function(e){200==e.code?(r.notify("删除成功",1),s.$store.state.notice.splice(n,1)):r.notify(e.msg,0)})})},moreNotice:function(){var e=this;this.moreLoading=!0,t.get("/team/notice",{id:o.get("teamId"),page:++e.page}).then(function(t){e.moreLoading=!1,200==t.code?t.data.length>0?e.$store.state.notice.concat(t.data):(e.more=!1,r.tip("已经到最底部啦",1)):r.notify(t.msg,0)})},addNotice:function(){var e=this;r.inputMul(this,"请输入公告",function(n){return n?(t.post("/team/notice",{id:o.get("teamId"),content:n}).then(function(t){200==t.code?(r.notify("添加成功",1),e.$store.state.notice.unshift(t.data)):r.notify(t.msg,0)}),!0):(r.tip("请输入公告",0),!1)})},transfer:function(){r.startHud();var e=this;t.get("/team/user",{id:o.get("teamId")}).then(function(t){if(r.stopHud(),200==t.code){r.showBox(e,n(250),{arr:t.data})}else r.notify(t.msg,0)})}},created:function(){}}}).call(t,n(2),n(3),n(0))},187:function(e,t,n){(function(t,o,r){var s=n(6);e.exports={data:function(){return{}},mixins:[s],computed:{arrLength:function(){return Math.floor(this.$store.state.project.length/4)+1},arr:function(){return this.$store.state.project},ownRole:function(){return this.$store.getters.ownRole},manageRole:function(){return this.$store.getters.manageRole}},methods:{info:function(e){t.set("projectId",e._id),t.set("projectName",e.name),location.href="/html/web/projectinfo/projectinfo.html"},remove:function(e,t){var n=this;o.confirm("是否确认删除项目，该项目下一切数据都会删除",function(){var s=n.$loading({fullscreen:!0});r.delete("/project/item",{id:e._id}).then(function(e){s.close(),200==e.code?(o.notify("删除成功",1),n.$store.state.project.splice(t,1)):o.notify(e.msg,0)})})},quit:function(e,n){var s=this;o.confirm("是否踢出该项目，该项目下数据会被保留",function(){var i=s.$loading({fullscreen:!0});r.delete("/team/project",{id:t.get("teamId"),project:e._id}).then(function(e){i.close(),200==e.code?(o.notify("踢出成功",1),s.$store.state.project.splice(n,1)):o.notify(e.msg,0)})})},user:function(e){o.startHud();var s=this;r.get("/team/projectuser",{id:t.get("teamId"),project:e._id}).then(function(r){if(o.stopHud(),200==r.code){o.showBox(s,n(249),{arr:r.data,id:e._id}).$on("update",function(n){e.userCount=n.length+1,n.forEach(function(n){n.user==t.get("id")&&(e.role=n.role)})})}else o.notify(r.msg,0)})},transfer:function(e,s){o.startHud();var i=this;r.get("/team/projectuser",{id:t.get("teamId"),project:e._id}).then(function(t){if(o.stopHud(),200==t.code){o.showBox(i,n(248),{arr:t.data,id:e._id}).$on("userMinus",function(){e.userCount--})}else o.notify(t.msg,0)})}},events:{}}}).call(t,n(3),n(0),n(2))},188:function(e,t,n){(function(t,o,r){var s=n(8);e.exports={props:["arr","id"],data:function(){return{searchName:"",arrUser:this.arr,savePending:!1,arrUserSearch:[],showDialog:!1}},computed:{arrFilter:function(){if(!this.searchName)return this.arrUser;this.arrUserSearch=[];var e=this;return this.arrUser.forEach(function(n){var o=t.clone(n);o.users=o.users.filter(function(t){return t.user.name.toLowerCase().indexOf(e.searchName.toLowerCase())>-1}),o.users.length>0&&e.arrUserSearch.push(o)}),this.arrUserSearch}},directives:{proxy:s},methods:{save:function(){var e=[];this.arrFilter.forEach(function(t){t.users.forEach(function(t){if(1==t.select&&2!=t.role){var n={user:t.user._id,role:t.role};1==t.role&&(n.option=t.option),e.push(n)}})}),this.savePending=!0;var n=this;o.put("/project/user",{id:this.id,user:JSON.stringify(e)}).then(function(o){n.savePending=!1,200==o.code?(t.notify("设置成功",1),n.$emit("update",e)):t.notify(o.msg,0)})},changeRole:function(e){1==e.role?r.set(e,"option",{ie:0,te:0,gb:0,gs:0,gi:0,gd:0,ve:0,vr:0}):delete e.option},editRoleOption:function(e){t.showBox(this,n(30),{hudremove:!0,data:e.option}).$on("save",function(t){e.option=t})}}}}).call(t,n(0),n(2),n(5))},189:function(e,t,n){(function(t,o,r){var s=n(8);e.exports={props:["arr"],data:function(){return{searchName:"",arrUser:this.arr,savePending:!1,arrUserSearch:[],showDialog:!1}},computed:{arrFilter:function(){if(!this.searchName)return this.arrUser;this.arrUserSearch=[];var e=this;return this.arrUser.forEach(function(n){var o=t.clone(n);o.users=o.users.filter(function(t){return t.user.name.toLowerCase().indexOf(e.searchName.toLowerCase())>-1}),o.users.length>0&&e.arrUserSearch.push(o)}),this.arrUserSearch}},directives:{proxy:s},methods:{transfer:function(e){var n=this;t.confirm("是否确认将该团队转让给用户"+e.user.name,function(){t.startHud(),o.put("/team/transfer",{id:r.get("teamId"),user:e.user._id}).then(function(e){t.stopHud(),200==e.code?(n.showDialog=!1,t.notify("转让成功",1),setTimeout(function(){location.reload()},1500)):t.notify(e.msg,0)})})}}}}).call(t,n(0),n(2),n(3))},190:function(e,t,n){(function(t,o,r){var s=n(8),i=n(6);e.exports={data:function(){return{searchName:"",showGroup:!1,movePending:!1,moveUserId:"",selectGroup:"",moveUserIndex:-1,moveUserParent:null}},mixins:[i],directives:{proxy:s},computed:{arrFilter:function(){if(!this.searchName)return this.$store.state.user;var e=[],n=this;return this.$store.state.user.forEach(function(o){var r=t.clone(o);r.users=r.users.filter(function(e){return e.user.name.toLowerCase().indexOf(n.searchName.toLowerCase())>-1}),r.users.length>0&&e.push(r)}),e},arrGroup:function(){return this.$store.state.user.map(function(e){return{name:e.name,id:e._id}})},ownRole:function(){return this.$store.getters.ownRole},manageRole:function(){return this.$store.getters.manageRole}},methods:{inviteUser:function(e){t.input("请输入邀请的用户名",function(n){if(!n.value)return void t.tip("请输入邀请的用户名",0);t.startHud(),o.put("/team/pulluser",{id:r.get("teamId"),user:n.value,group:e._id}).then(function(e){t.stopHud(),200==e.code?t.notify("邀请已发送，等待用户响应",1):t.notify(e.msg,0)})})},renameGroup:function(e){t.input("请输入部门名称",function(n){if(!n.value)return void t.tip("请输入部门名称",0);t.startHud(),o.post("/team/group",{id:r.get("teamId"),name:n.value,group:e._id}).then(function(o){t.stopHud(),200==o.code?(t.notify("重命名成功",1),e.name=n.value):t.notify(o.msg,0)})})},removeGroup:function(e,n){var s=this;if(e.users.length>0)return void t.tip("请在删除部门前清空部门成员!",0);t.confirm("是否删除该部门",function(){t.startHud(),o.delete("/team/group",{id:r.get("teamId"),group:e._id}).then(function(e){t.stopHud(),200==e.code?(t.notify("删除成功",1),s.$store.state.user.splice(n,1)):t.notify(e.msg,0)})})},changeRole:function(e){o.put("/team/userrole",{id:r.get("teamId"),user:JSON.stringify([{user:e.user._id,role:e.role}])}).then(function(e){200==e.code?t.notify("设置成功",1):t.notify(e.msg,0)})},moveUser:function(e,t,n){this.showGroup=!0,this.moveUserId=e.user._id,this.moveUserIndex=t,this.moveUserParent=n,this.selectGroup=n._id},removeUser:function(e,s,i){var a=this;t.confirm("是否确定从团队中删除该用户，团队中的项目也会一并删除该用户",function(){t.startHud(),o.delete("/team/projectuser",{id:r.get("teamId"),user:e.user._id}).then(function(l){if(200==l.code)if(l.data.length>0){t.stopHud();var c=t.showBox(a,n(101),{arr:l.data,user:e.user._id});c.$on("remove",function(){i.users.splice(s,1)})}else o.delete("/team/user",{id:r.get("teamId"),user:e.user._id}).then(function(e){t.stopHud(),200==e.code?(t.notify("删除成功",1),i.users.splice(s,1)):t.notify(e.msg,0)});else t.stopHud(),t.notify(l.msg,0)})})},handleMoveUser:function(){if(!this.selectGroup)return void t.tip("请选择部门",0);if(this.selectGroup==this.moveUserParent._id)return void t.tip("请不要移动到同一个部门",0);var e=this;this.movePending=!0,o.put("/team/moveuser",{id:r.get("teamId"),user:this.moveUserId,group:this.selectGroup}).then(function(n){if(e.movePending=!1,200==n.code){t.notify("移动成功",1),e.showGroup=!1,e.moveUserParent.users.splice(e.moveUserIndex,1);var o;e.$store.state.user.forEach(function(t){t._id==e.selectGroup&&(o=t)}),o.users.push(n.data),o.users.sort(function(e,t){return e.user.name>t.user.name})}else t.notify(n.msg,0)})}}}}).call(t,n(0),n(2),n(3))},191:function(e,t,n){(function(t,o,r){e.exports={props:["arr","user","self"],data:function(){return{savePending:!1,arrProject:function(){return this.arr.map(function(e){return e.handle=0,e})}.call(this),showDialog:!1}},methods:{save:function(){var e=!0;if(this.arrProject.forEach(function(t){0==t.handle&&(e=!1)}),!e)return void t.tip("请将所有的项目设置新的管理员",0);var n=this;this.savePending=!0;var s={id:o.get("teamId"),user:this.user};this.self&&(s.self=1),r.delete("/team/user",s).then(function(e){n.savePending=!1,200==e.code?(t.notify("删除成功",1),n.$emit("remove"),n.$refs.box.close()):t.notify(e.msg,0)})},setOwner:function(e){var s=this;r.get("/team/projectuser",{id:o.get("teamId"),project:e._id}).then(function(o){t.showBox(s,n(251),{arr:o.data,id:e._id}).$on("save",function(){e.handle=1})})}}}}).call(t,n(0),n(3),n(2))},192:function(e,t,n){(function(t,o){var r=n(8);e.exports={props:["arr","id"],data:function(){return{savePending:!1,selectUser:"",searchName:"",arrUser:this.arr,showDialog:!1}},directives:{proxy:r},computed:{arrFilter:function(){if(!this.searchName)return this.arrUser;var e=[],n=this;return this.arrUser.forEach(function(o){var r=t.clone(o);r.users=r.users.filter(function(e){return e.user.name.toLowerCase().indexOf(n.searchName.toLowerCase())>-1}),r.users.length>0&&e.push(r)}),e}},methods:{save:function(){if(!this.selectUser)return void t.tip("请选择项目所有者",0);var e=this;this.savePending=!0,o.put("/project/owner",{id:this.id,user:this.selectUser}).then(function(n){e.savePending=!1,200==n.code?(t.notify("设置成功",1),e.$emit("save"),e.$refs.box.close()):t.notify(n.msg,0)})},select:function(e){if(2==e.role)return void t.tip("不能选择原来的项目所有者",0);this.selectUser=e.user._id}}}}).call(t,n(0),n(2))},199:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,"\n.item{\n    text-align: center;font-size:20px;color: #50a3ff;width: 100%;height: 100%;cursor: pointer;position: relative;box-shadow: 2px 2px 2px #888888;\n}\n","",{version:3,sources:["/Users/sunxin/DOClever/Client/web/team/component/teamProjectList.vue?71bbe2c9"],names:[],mappings:";AAqCA;IACA,mBAAA,eAAA,eAAA,YAAA,aAAA,gBAAA,mBAAA,gCAAA;CACA",file:"teamProjectList.vue",sourcesContent:['<template>\n    <div style="width: 100%;">\n        <table style="background-color: transparent;width: 100%;height: 100%">\n            <tbody>\n            <template v-for="n in arrLength">\n                <tr>\n                    <template v-for="index in 4">\n                        <td  style="padding: 10px;height: 150px;width: 25%">\n                            <div v-if="arr[(n-1)*4+(index-1)]" class="item" :style="{backgroundImage: \'url(\\\'../pic/back\'+index+\'.jpg\\\')\',borderRadius:\'5px\',color:\'gray\',fontSize:\'25px\',wordBreak: \'break-all\',display:\'table\'}" @click="info(arr[(n-1)*4+(index-1)])">\n                                <div style="display: table-cell;vertical-align: middle">\n                                    {{arr[(n-1)*4+(index-1)].name}}\n                                </div>\n                                <el-row class="row" style="height: 30px;line-height:30px;font-size: 15px;color: gray;position: absolute;left: 0;bottom: 0;text-align: left;background-color: rgba(215,215,215,0.51)">\n                                    &nbsp;{{"成员:"+arr[(n-1)*4+(index-1)].userCount}}&nbsp;\n                                    {{"接口:"+arr[(n-1)*4+(index-1)].interfaceCount}}\n                                    <el-dropdown style="float: right;height: 30px" v-if="manageRole">\n                                        <el-button type="text" style="width:40px;height: 30px" class="el-dropdown-link" @click.stop="">\n                                            管理\n                                        </el-button>\n                                        <el-dropdown-menu slot="dropdown">\n                                            <el-dropdown-item @click.native="user(arr[(n-1)*4+(index-1)])">成员管理</el-dropdown-item>\n                                            <el-dropdown-item @click.native="quit(arr[(n-1)*4+(index-1)],(n-1)*4+(index-1))">踢出团队</el-dropdown-item>\n                                            <el-dropdown-item @click.native="remove(arr[(n-1)*4+(index-1)],(n-1)*4+(index-1))">删除项目</el-dropdown-item>\n                                            <el-dropdown-item @click.native="transfer(arr[(n-1)*4+(index-1)],(n-1)*4+(index-1))">指定所有者</el-dropdown-item>\n                                        </el-dropdown-menu>\n                                    </el-dropdown>\n                                </el-row>\n                            </div>\n                        </td>\n                    </template>\n                </tr>\n            </template>\n            </tbody>\n        </table>\n    </div>\n</template>\n<style>\n    .item{\n        text-align: center;font-size:20px;color: #50a3ff;width: 100%;height: 100%;cursor: pointer;position: relative;box-shadow: 2px 2px 2px #888888;\n    }\n</style>\n<script>\n    var sessionChange=require("../../mixins/session");\n    module.exports={\n        data:function () {\n            return {\n            }\n        },\n        mixins:[sessionChange],\n        computed:{\n            arrLength:function () {\n                return Math.floor(this.$store.state.project.length/4)+1\n            },\n            arr:function () {\n                return this.$store.state.project\n            },\n            ownRole:function () {\n                return this.$store.getters.ownRole;\n            },\n            manageRole:function () {\n                return this.$store.getters.manageRole;\n            }\n        },\n        methods:{\n            info:function (item) {\n                session.set("projectId",item._id);\n                session.set("projectName",item.name);\n                location.href="/html/web/projectinfo/projectinfo.html";\n            },\n            remove:function (item,index) {\n                var _this=this;\n                $.confirm("是否确认删除项目，该项目下一切数据都会删除",function () {\n                    var loading=_this.$loading({fullscreen:true});\n                    net.delete("/project/item",{\n                        id:item._id\n                    }).then(function (data) {\n                        loading.close();\n                        if(data.code==200)\n                        {\n                            $.notify("删除成功",1);\n                            _this.$store.state.project.splice(index,1);\n                        }\n                        else\n                        {\n                            $.notify(data.msg,0);\n                        }\n                    })\n                })\n            },\n            quit:function (item,index) {\n                var _this=this;\n                $.confirm("是否踢出该项目，该项目下数据会被保留",function () {\n                    var loading=_this.$loading({fullscreen:true});\n                    net.delete("/team/project",{\n                        id:session.get("teamId"),\n                        project:item._id\n                    }).then(function (data) {\n                        loading.close();\n                        if(data.code==200)\n                        {\n                            $.notify("踢出成功",1);\n                            _this.$store.state.project.splice(index,1);\n                        }\n                        else\n                        {\n                            $.notify(data.msg,0);\n                        }\n                    })\n                })\n            },\n            user:function (item) {\n                $.startHud();\n                var _this=this;\n                net.get("/team/projectuser",{\n                    id:session.get("teamId"),\n                    project:item._id\n                }).then(function (data) {\n                    $.stopHud();\n                    if(data.code==200)\n                    {\n                        var child=$.showBox(_this,require("./teamProjectUser.vue"),{\n                            arr:data.data,\n                            id:item._id\n                        });\n                        child.$on("update",function (arr) {\n                            item.userCount=arr.length+1;\n                            arr.forEach(function (obj) {\n                                if(obj.user==session.get("id"))\n                                {\n                                    item.role=obj.role;\n                                }\n                            })\n                        })\n                    }\n                    else\n                    {\n                        $.notify(data.msg,0);\n                    }\n                })\n            },\n            transfer:function (item,index) {\n                $.startHud();\n                var _this=this;\n                net.get("/team/projectuser",{\n                    id:session.get("teamId"),\n                    project:item._id\n                }).then(function (data) {\n                    $.stopHud();\n                    if(data.code==200)\n                    {\n                        var child=$.showBox(_this,require("./projectTransfer.vue"),{\n                            arr:data.data,\n                            id:item._id\n                        });\n                        child.$on("userMinus",function () {\n                            item.userCount--;\n                        })\n                    }\n                    else\n                    {\n                        $.notify(data.msg,0);\n                    }\n                })\n            }\n        },\n        events:{\n\n        }\n    }\n<\/script>\n'],sourceRoot:""}])},23:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(o[s]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},248:function(e,t,n){var o=n(1)(n(185),n(312),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/projectTransfer.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] projectTransfer.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},249:function(e,t,n){var o=n(1)(n(188),n(300),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamProjectUser.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamProjectUser.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},25:function(e,t,n){function o(e){for(var t=0;t<e.length;t++){var n=e[t],o=u[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(s(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{for(var i=[],r=0;r<n.parts.length;r++)i.push(s(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:i}}}}function r(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function s(e){var t,n,o=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(o){if(h)return m;o.parentNode.removeChild(o)}if(v){var s=f++;o=d||(d=r()),t=i.bind(null,o,s,!1),n=i.bind(null,o,s,!0)}else o=r(),t=a.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}function i(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var s=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}function a(e,t){var n=t.css,o=t.media,r=t.sourceMap;if(o&&e.setAttribute("media",o),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(45),u={},p=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,h=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){h=n;var r=c(e,t);return o(r),function(t){for(var n=[],s=0;s<r.length;s++){var i=r[s],a=u[i.id];a.refs--,n.push(a)}t?(r=c(e,t),o(r)):r=[];for(var s=0;s<n.length;s++){var a=n[s];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete u[a.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},250:function(e,t,n){var o=n(1)(n(189),n(257),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamTransfer.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamTransfer.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},251:function(e,t,n){var o=n(1)(n(192),n(315),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/team/component/teamUserOwnerSelect.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] teamUserOwnerSelect.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},257:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"团队转让",size:"small"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"50px","line-height":"50px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入你要筛选的用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"300px","overflow-y":"auto"}},[n("el-collapse",[e._l(e.arrFilter,function(t,o){return[n("el-collapse-item",{staticClass:"hover",attrs:{title:t.name}},[e._l(t.users,function(t,o){return[n("el-row",{staticClass:"row",staticStyle:{height:"40px","line-height":"40px","text-align":"center"}},[n("el-col",{staticClass:"col",attrs:{span:3}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:t.user.photo,expression:"item1.user.photo"}],staticStyle:{width:"30px",height:"30px","border-radius":"50%","vertical-align":"middle"}})]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:9}},[e._v("\n                                "+e._s(t.user.name)+"\n                            ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:6}},[0==t.role?n("span",[e._v("\n                                        团队管理员\n                                    ")]):1==t.role?n("span",[e._v("\n                                        团队观察者\n                                    ")]):n("span",[e._v("\n                                        团队所有者\n                                ")])]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:3}},[0==t.role||1==t.role?n("el-button",{staticStyle:{"font-size":"15px"},attrs:{size:"small",type:"text"},on:{click:function(n){e.transfer(t)}}},[e._v("转让")]):e._e()],1)],1)]})],2)]})],2)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},265:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"row"},[n("el-row",{staticClass:"row",staticStyle:{height:"50px","line-height":"50px","text-align":"center"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入你要筛选的用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),n("el-collapse",[e._l(e.arrFilter,function(t,o){return[n("el-collapse-item",{key:t._id,staticClass:"hover"},[n("template",{slot:"title"},[n("span",{staticStyle:{"font-size":"15px"}},[e._v("\n                            "+e._s(t.name+"("+t.users.length+")")+"\n                        ")]),e._v("   \n                    "),e.manageRole?n("el-dropdown",[n("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text",icon:"setting"},on:{click:function(e){e.stopPropagation()}}}),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){e.inviteUser(t)}}},[e._v("邀请用户")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){e.renameGroup(t)}}},[e._v("重命名")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){e.removeGroup(t,o)}}},[e._v("删除")])],1)],1):e._e()],1),e._v(" "),e._l(t.users,function(o,r){return[n("el-row",{key:o.user._id,staticClass:"row",staticStyle:{height:"40px","line-height":"40px","text-align":"center"}},[n("el-col",{staticClass:"col",attrs:{span:4}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:o.user.photo,expression:"item1.user.photo"}],staticStyle:{width:"30px",height:"30px","border-radius":"50%","vertical-align":"middle"}})]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:10}},[e._v("\n                            "+e._s(o.user.name)+"\n                        ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:6}},[2!=o.role?[e.manageRole&&e.session.id!=o.user._id?n("el-select",{on:{input:function(t){e.changeRole(o)}},model:{value:o.role,callback:function(e){o.role=e},expression:"item1.role"}},[n("el-option",{attrs:{value:0,label:"团队管理员"}}),e._v(" "),n("el-option",{attrs:{value:1,label:"团队成员"}})],1):n("span",[e._v("\n                                    "+e._s(0==o.role?"团队管理员":"团队成员")+"\n                                ")])]:n("span",[e._v("\n                                团队所有者\n                            ")])],2),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:4}},[e.manageRole&&2!=o.role&&!e.ownRole||e.ownRole?n("el-dropdown",[n("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n                                    操作\n                                ")]),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){e.moveUser(o,r,t)}}},[e._v("移动")]),e._v(" "),2!=o.role?n("el-dropdown-item",{nativeOn:{click:function(n){e.removeUser(o,r,t)}}},[e._v("删除")]):e._e()],1)],1):e._e()],1)],1)]})],2)]})],2),e._v(" "),n("el-dialog",{attrs:{title:"选择部门",size:"small"},model:{value:e.showGroup,callback:function(t){e.showGroup=t},expression:"showGroup"}},[n("el-row",{staticClass:"row",staticStyle:{height:"30px","line-height":"30px","text-align":"center"}},[n("el-select",{staticStyle:{width:"50%"},model:{value:e.selectGroup,callback:function(t){e.selectGroup=t},expression:"selectGroup"}},e._l(e.arrGroup,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),n("span",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.movePending},on:{click:e.handleMoveUser}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},27:function(e,t){function n(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);e.exports=n},274:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"row"},[n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"50px","line-height":"50px","font-size":"20px","border-radius":"5px","box-shadow":"0px 2px 2px #888888","background-color":"white"}},[n("el-col",{staticClass:"col",staticStyle:{"border-right":"1px gray solid"},attrs:{span:8}},[e._v("\n            项目:"+e._s(e.projectCount)+"\n        ")]),e._v(" "),n("el-col",{staticClass:"col",staticStyle:{"border-right":"1px gray solid"},attrs:{span:8}},[e._v("\n            接口:"+e._s(e.interfaceCount)+"\n        ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:8}},[e._v("\n            用户:"+e._s(e.userCount)+"\n        ")])],1),e._v(" "),n("el-form",{ref:"form",staticStyle:{"margin-top":"20px","border-radius":"5px","box-shadow":"0px 2px 2px #888888","background-color":"white",padding:"20px"},attrs:{"label-width":"100px"}},[n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"名称"}},[n("el-input",{staticStyle:{width:"80%"},model:{value:e.obj.name,callback:function(t){e.obj.name=t},expression:"obj.name"}})],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"简介"}},[n("el-input",{staticStyle:{width:"80%",height:"80%"},attrs:{type:"textarea",rows:3},model:{value:e.obj.dis,callback:function(t){e.obj.dis=t},expression:"obj.dis"}})],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"团队ID"}},[n("div",{staticStyle:{width:"80%",display:"inline-block","text-align":"left"}},[e._v("\n                "+e._s(e.obj._id)+"\n            ")])]),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"团队角色"}},[n("div",{staticStyle:{width:"80%",display:"inline-block","text-align":"left"}},[e._v("\n                "+e._s(e.ownRole?"所有者":e.manageRole?"管理员":"普通成员")+"\n            ")])]),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"创建时间"}},[n("div",{staticStyle:{width:"80%",display:"inline-block","text-align":"left"}},[e._v("\n                "+e._s(e.obj.createdAt)+"\n            ")]),e._v(" "),n("el-button",{staticStyle:{width:"90px",position:"absolute",right:"50px"},attrs:{type:"danger",loading:e.deletePending},on:{click:function(t){t.preventDefault(),e.removeTeam(t)}}},[e._v("\n                "+e._s(e.ownRole?"删除团队":"退出团队")+"\n            ")]),e._v(" "),e.manageRole?n("el-button",{staticStyle:{width:"80px",position:"absolute",right:"160px"},attrs:{type:"primary",loading:e.infoPending},on:{click:function(t){t.preventDefault(),e.saveInfo(t)}}},[e._v("\n                保存\n            ")]):e._e(),e._v(" "),e.ownRole?n("el-button",{staticStyle:{width:"80px",position:"absolute",right:"270px"},attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.transfer(t)}}},[e._v("\n                转让\n            ")]):e._e()],1)],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{"border-radius":"5px","box-shadow":"0px 2px 2px #888888","background-color":"white",padding:"20px","margin-top":"20px"}},[n("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:e.moreLoading,expression:"moreLoading"}]},[n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticStyle:{"font-size":"15px"}},[e._v("\n                        团队公告\n                    ")]),e._v("   \n                    "),e.manageRole?n("el-button",{attrs:{type:"text",icon:"plus"},on:{click:function(t){t.stopPropagation(),e.addNotice(t)}}}):e._e()],1),e._v(" "),e._l(e.notice,function(t,o){return[n("el-row",{staticClass:"row"},[n("el-row",{staticClass:"row",staticStyle:{"font-size":"17px"}},[e._v("\n                            "+e._s(t.content)+"\n                        ")]),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{color:"gray"}},[e._v("\n                            "+e._s(t.date)+"   \n                            "),n("el-button",{staticStyle:{color:"#FF4949"},attrs:{type:"text",size:"small",icon:"delete2",titile:"删除"},on:{click:function(n){e.removeNotice(t,o)}}})],1)],1)]}),e._v(" "),e.more&&e.notice.length>0?n("el-row",{staticClass:"row",staticStyle:{height:"30px","line-height":"30px","text-align":"center",color:"gray","border-top":"1px lightgray solid",cursor:"pointer"},nativeOn:{click:function(t){e.moreNotice(t)}}},[e._v("\n                    获取更多\n                ")]):e._e()],2)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},28:function(e,t,n){(function(t){var n,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var s=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}e.exports=n}).call(t,n(26))},30:function(e,t,n){var o=n(1)(n(36),n(44),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/component/roleOption.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] roleOption.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},300:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"项目用户管理",size:"small"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"50px","line-height":"50px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入你要筛选的用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"300px","overflow-y":"auto"}},[n("el-collapse",[e._l(e.arrFilter,function(t,o){return[n("el-collapse-item",{staticClass:"hover",attrs:{title:t.name}},[e._l(t.users,function(t,o){return[n("el-row",{staticClass:"row",staticStyle:{height:"40px","line-height":"40px","text-align":"center"}},[n("el-col",{staticClass:"col",attrs:{span:2}},[2!=t.role?n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.select,callback:function(e){t.select=e},expression:"item1.select"}}):e._e()],1),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:3}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:t.user.photo,expression:"item1.user.photo"}],staticStyle:{width:"30px",height:"30px","border-radius":"50%","vertical-align":"middle"}})]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:9}},[e._v("\n                                "+e._s(t.user.name)+"\n                            ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:7}},[2!=t.role?n("el-select",{on:{input:function(n){e.changeRole(t)}},model:{value:t.role,callback:function(e){t.role=e},expression:"item1.role"}},[n("el-option",{attrs:{value:0,label:"项目管理员"}}),e._v(" "),n("el-option",{attrs:{value:1,label:"项目观察者"}})],1):n("span",[e._v("\n                                项目所有者\n                            ")])],1),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:3}},[1==t.role?n("el-button",{staticStyle:{"font-size":"15px"},attrs:{size:"small",type:"text"},on:{click:function(n){e.editRoleOption(t)}}},[e._v("权限")]):e._e()],1)],1)]})],2)]})],2)],1),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.savePending},on:{click:e.save}},[e._v("\n            保存\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},302:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"设置项目所有者",size:"small","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{height:"50px","line-height":"50px"}},[e._v("\n        请设置以下项目的新的所有者\n    ")]),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"300px","overflow-y":"auto"}},[e._l(e.arrProject,function(t){return[n("el-row",{key:t._id,staticClass:"row",staticStyle:{height:"40px","line-height":"40px"}},[n("el-col",{staticClass:"col",attrs:{span:18}},[e._v("\n                    "+e._s(t.name)+"\n                ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:6}},[0==t.handle?n("el-button",{attrs:{type:"primary"},on:{click:function(n){e.setOwner(t)}}},[e._v("\n                        设置所有者\n                    ")]):n("span",[e._v("\n                        已设置\n                    ")])],1)],1)]})],2),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.savePending},on:{click:e.save}},[e._v("\n            确定\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},304:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("table",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"}},[n("tbody",[e._l(e.arrLength,function(t){return[n("tr",[e._l(4,function(o){return[n("td",{staticStyle:{padding:"10px",height:"150px",width:"25%"}},[e.arr[4*(t-1)+(o-1)]?n("div",{staticClass:"item",style:{backgroundImage:"url('../pic/back"+o+".jpg')",borderRadius:"5px",color:"gray",fontSize:"25px",wordBreak:"break-all",display:"table"},on:{click:function(n){e.info(e.arr[4*(t-1)+(o-1)])}}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[e._v("\n                                "+e._s(e.arr[4*(t-1)+(o-1)].name)+"\n                            ")]),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"30px","line-height":"30px","font-size":"15px",color:"gray",position:"absolute",left:"0",bottom:"0","text-align":"left","background-color":"rgba(215,215,215,0.51)"}},[e._v("\n                                 "+e._s("成员:"+e.arr[4*(t-1)+(o-1)].userCount)+" \n                                "+e._s("接口:"+e.arr[4*(t-1)+(o-1)].interfaceCount)+"\n                                "),e.manageRole?n("el-dropdown",{staticStyle:{float:"right",height:"30px"}},[n("el-button",{staticClass:"el-dropdown-link",staticStyle:{width:"40px",height:"30px"},attrs:{type:"text"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n                                        管理\n                                    ")]),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){e.user(e.arr[4*(t-1)+(o-1)])}}},[e._v("成员管理")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){e.quit(e.arr[4*(t-1)+(o-1)],4*(t-1)+(o-1))}}},[e._v("踢出团队")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){e.remove(e.arr[4*(t-1)+(o-1)],4*(t-1)+(o-1))}}},[e._v("删除项目")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){e.transfer(e.arr[4*(t-1)+(o-1)],4*(t-1)+(o-1))}}},[e._v("指定所有者")])],1)],1):e._e()],1)],1):e._e()])]})],2)]})],2)])])},staticRenderFns:[]},e.exports.render._withStripped=!0},312:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"指定项目所有者",size:"small"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"50px","line-height":"50px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入你要筛选的用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"300px","overflow-y":"auto"}},[n("el-collapse",[e._l(e.arrFilter,function(t,o){return[n("el-collapse-item",{staticClass:"hover",attrs:{title:t.name}},[e._l(t.users,function(t,o){return[n("el-row",{staticClass:"row",staticStyle:{height:"40px","line-height":"40px","text-align":"center"}},[n("el-col",{staticClass:"col",attrs:{span:3}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:t.user.photo,expression:"item1.user.photo"}],staticStyle:{width:"30px",height:"30px","border-radius":"50%","vertical-align":"middle"}})]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:9}},[e._v("\n                                "+e._s(t.user.name)+"\n                            ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:6}},[1==t.select?[0==t.role?n("span",[e._v("\n                                        项目管理员\n                                    ")]):1==t.role?n("span",[e._v("\n                                        项目观察者\n                                    ")]):n("span",[e._v("\n                                        项目所有者\n                                    ")])]:n("span",[e._v("\n                                    非项目成员\n                                ")])],2),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:3}},[0==t.role||1==t.role?n("el-button",{staticStyle:{"font-size":"15px"},attrs:{size:"small",type:"text"},on:{click:function(n){e.transfer(t)}}},[e._v("转让")]):e._e()],1)],1)]})],2)]})],2)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},315:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"项目用户管理",size:"small",modal:!1},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{"text-align":"center",height:"50px","line-height":"50px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入你要筛选的用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"300px","overflow-y":"auto"}},[n("el-collapse",[e._l(e.arrFilter,function(t,o){return[n("el-collapse-item",{key:t._id,staticClass:"hover",attrs:{title:t.name}},[e._l(t.users,function(t,o){return[n("el-row",{key:t._id,staticClass:"row",staticStyle:{height:"40px","line-height":"40px","text-align":"center",cursor:"pointer"},style:{backgroundColor:e.selectUser==t.user._id?"lightblue":"white"},nativeOn:{click:function(n){e.select(t)}}},[n("el-col",{staticClass:"col",attrs:{span:4}},[n("img",{directives:[{name:"proxy",rawName:"v-proxy",value:t.user.photo,expression:"item1.user.photo"}],staticStyle:{width:"30px",height:"30px","border-radius":"50%","vertical-align":"middle"}})]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:13}},[e._v("\n                                "+e._s(t.user.name)+"\n                            ")]),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:7}},[0==t.select?n("span",[e._v("\n                                    非项目成员\n                                ")]):[0==t.role?n("span",[e._v("\n                                        项目管理员\n                                    ")]):1==t.role?n("span",[e._v("\n                                        项目观察者\n                                    ")]):2==t.role?n("span",[e._v("\n                                        项目所有者\n                                    ")]):e._e()]],2)],1)]})],2)]})],2)],1),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.savePending},on:{click:e.save}},[e._v("\n            确定\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},328:function(e,t,n){var o=n(199);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(25)("13361019",o,!1)},351:function(e,t,n){(function(e,t,o,r){var s=n(9),i=n(116),a=n(117),l=n(118),c=n(121),u=n(6);e.get("teamId")||(location.href="../project/project.html"),e.remove("projectId"),e.remove("projectName"),e.remove("versionId"),e.remove("versionName"),e.remove("versionDis");new t({el:"#app",data:{type:1,showAdd:!1,addPending:!1,newType:0,name:"",dis:"",id:"",arrApply:[],showApply:!1,applyPending:!1,showUserApply:!1,newUserGroup:"",newUserRole:1,selUserApplyObj:{}},mixins:[u],store:c,components:{mainnav:s,teaminfo:i,teamprojectlist:a,teamuser:l},computed:{user:function(){return c.state.user},ownRole:function(){return c.getters.ownRole},manageRole:function(){return c.getters.manageRole}},methods:{addProject:function(){var t=this;if(0==this.newType){if(!this.name)return void this.$message.error("请输入名称");this.addPending=!0,o.post("/project/create",{name:t.name,dis:t.dis,team:e.get("teamId")}).then(function(e){t.addPending=!1,t.name="",t.dis="",200==e.code?(c.state.project.unshift(e.data),r.notify("创建成功",1),t.showAdd=!1):r.notify(e.msg,0)})}else{if(!this.id)return void this.$message.error("请输入项目ID");this.addPending=!0,o.put("/team/pullproject",{id:e.get("teamId"),project:this.id}).then(function(e){t.addPending=!1,t.name="",t.dis="",t.id="",200==e.code?(r.notify("请求已发出，等待项目管理员响应",1),t.showAdd=!1):r.notify(e.msg,0)})}},importProject:function(){r.showBox(this,n(46))},addGroup:function(){r.input("请输入部门名称",function(t){if(!t.value)return void r.tip("请输入部门名称",0);r.startHud(),o.post("/team/group",{id:e.get("teamId"),name:t.value}).then(function(e){r.stopHud(),200==e.code?(r.notify("新建成功",1),c.state.user.push(e.data)):r.notify(e.msg,0)})})},handleApply:function(t,n){2==t.type?(this.newUserGroup=c.state.user[0]._id,this.newUserRole=1,this.selUserApplyObj={item:t,state:n},1==n?this.showUserApply=!0:this.handleUserApply()):3==t.type&&(r.startHud(),o.put("/team/apply",{id:e.get("teamId"),apply:t._id,state:n}).then(function(e){r.stopHud(),200==e.code?"object"==typeof e.data?(t.handle=1,c.state.project.unshift(e.data)):t.handle=2:(t.handle=3,r.notify(e.msg,0))}))},handleUserApply:function(){var t=this;this.applyPending=!0,o.put("/team/apply",{id:e.get("teamId"),apply:this.selUserApplyObj.item._id,group:this.newUserGroup,role:this.newUserRole,state:this.selUserApplyObj.state}).then(function(e){t.applyPending=!1,200==e.code?"object"==typeof e.data?(t.selUserApplyObj.item.handle=1,c.state.user.forEach(function(n){n._id==t.newUserGroup&&(n.users.push(e.data),n.users.sort(function(e,t){return e.user.name>t.user.name}))})):t.selUserApplyObj.item.handle=2:(t.selUserApplyObj.item.handle=3,r.notify(e.msg,0)),t.showUserApply=!1})}},created:function(){var e=this;Promise.all([o.get("/team/info",{id:e.session.teamId}),o.get("/team/apply",{id:e.session.teamId})]).then(function(t){r.stopLoading();var n=t[0],o=t[1];if(200!=n.code)throw n.msg;if(c.commit("setTeam",n.data),e.newUserGroup=n.data.user[0]._id,200!=o.code)throw o.msg;o.data.forEach(function(e){e.handle=0}),e.arrApply=o.data,e.arrApply.length>0&&(e.showApply=!0)}).catch(function(e){r.notify(e,0)})}});r.ready(function(){r.startLoading()})}).call(t,n(3),n(5),n(2),n(0))},36:function(e,t,n){(function(t){e.exports={props:["data","hudremove"],data:function(){return{option:this.data?t.clone(this.data):{ie:0,te:0,gb:0,gs:0,gi:0,gd:0,ve:0,vr:0},showDialog:!1,hud:void 0===this.hudremove||!Boolean(this.hudremove)}},methods:{save:function(){this.$emit("save",this.option),this.showDialog=!1}}}}).call(t,n(0))},40:function(e,t,n){var o=n(41),r=n(42),s=r;s.v1=o,s.v4=r,e.exports=s},41:function(e,t,n){function o(e,t,n){var o=t&&n||0,r=t||[];e=e||{};var i=void 0!==e.clockseq?e.clockseq:l,p=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:u+1,f=p-c+(d-u)/1e4;if(f<0&&void 0===e.clockseq&&(i=i+1&16383),(f<0||p>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=d,l=i,p+=122192928e5;var h=(1e4*(268435455&p)+d)%4294967296;r[o++]=h>>>24&255,r[o++]=h>>>16&255,r[o++]=h>>>8&255,r[o++]=255&h;var m=p/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=i>>>8|128,r[o++]=255&i;for(var v=e.node||a,g=0;g<6;++g)r[o+g]=v[g];return t||s(r)}var r=n(28),s=n(27),i=r(),a=[1|i[0],i[1],i[2],i[3],i[4],i[5]],l=16383&(i[6]<<8|i[7]),c=0,u=0;e.exports=o},42:function(e,t,n){function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[o+a]=i[a];return t||s(i)}var r=n(28),s=n(27);e.exports=o},44:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"编辑用户的权限",size:"small",modal:e.hud},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"接口"}},[n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.ie,callback:function(t){e.option.ie=t},expression:"option.ie"}},[e._v("接口编辑")])],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"测试"}},[n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.te,callback:function(t){e.option.te=t},expression:"option.te"}},[e._v("用例编辑")])],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"全局"}},[n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.gb,callback:function(t){e.option.gb=t},expression:"option.gb"}},[e._v("\n                BaseUrl\n            ")]),e._v("  \n            "),n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.gs,callback:function(t){e.option.gs=t},expression:"option.gs"}},[e._v("\n                状态码\n            ")]),e._v("  \n            "),n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.gi,callback:function(t){e.option.gi=t},expression:"option.gi"}},[e._v("\n                环境注入\n            ")]),e._v("  \n            "),n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.gd,callback:function(t){e.option.gd=t},expression:"option.gd"}},[e._v("\n                文档\n            ")])],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"版本"}},[n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.ve,callback:function(t){e.option.ve=t},expression:"option.ve"}},[e._v("版本编辑")]),e._v("  \n            "),n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.option.vr,callback:function(t){e.option.vr=t},expression:"option.vr"}},[e._v("版本回滚")])],1)],1),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("\n            保存\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},45:function(e,t){e.exports=function(e,t){for(var n=[],o={},r=0;r<t.length;r++){var s=t[r],i=s[0],a=s[1],l=s[2],c=s[3],u={id:e+":"+r,css:a,media:l,sourceMap:c};o[i]?o[i].parts.push(u):n.push(o[i]={id:i,parts:[u]})}return n}},46:function(e,t,n){var o=n(1)(n(50),n(87),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/component/importProject.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] importProject.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},50:function(module,exports,__webpack_require__){(function($,session,net){var uuid=__webpack_require__(40),dragFile=__webpack_require__(92),bus=__webpack_require__(91);module.exports={data:function(){return{type:0,text:"",textMy:"",arr:[{title:""}],savePending:!1,status:"",ignore:0,textRap:"",rapBodyType:0,swaggerType:0,textSwaggerJSON:"",textSwaggerURL:"",showDialog:!1}},directives:{drag:dragFile},computed:{},methods:{remove:function(e){this.arr.length>1?this.arr.splice(e,1):this.arr[0].title=""},save:function save(){if(0==this.type){if(!this.text)return void $.tip("请输入JSON",0);var obj;try{obj=JSON.parse(this.text)}catch(e){return void $.tip("JSON格式有错误",0)}if(!obj.info._postman_id)return void $.tip("不是可识别的JSON格式",0);if(!obj.info.name)return void $.tip("项目名称为空",0);var arr=[];if(this.arr.forEach(function(e){e.title&&arr.push(e.title)}),0==arr.length)return void $.tip("请输入BaseUrl",0);var _this=this;this.savePending=!0;var update={json:this.text,baseurl:arr.join(","),ignore:this.ignore};session.get("teamId")&&(update.team=session.get("teamId")),net.post("/project/importpostman",update).then(function(e){_this.savePending=!1,200==e.code?(_this.savePending=!1,_this.$refs.box.close(),$.notify("导入成功",1),_this.$store.commit("addProjectCreate",e.data),session.get("teamId")&&bus.$emit("updateTeamProject",1,e.data.interfaceCount)):$.notify(e.msg,0)})}else if(1==this.type){if(!this.textMy)return void $.tip("请输入JSON",0);var obj;try{obj=JSON.parse(this.textMy)}catch(e){return void $.tip("json解析错误",0)}if("SBDoc"!=obj.flag)return void $.tip("不是DOClever的导出格式",0);var _this=this;this.savePending=!0;var update={json:this.textMy};session.get("teamId")&&(update.team=session.get("teamId")),net.post("/project/importjson",update).then(function(e){_this.savePending=!1,200==e.code?($.notify("导入成功",1),session.get("teamId")?(_this.$parent.obj.project.unshift(e.data),bus.$emit("updateTeamProject",1,e.data.interfaceCount)):_this.$store.commit("addProjectCreate",e.data),_this.$refs.box.close()):$.notify(e.msg,0)})}else if(2==this.type){if(!this.textRap)return void $.tip("请输入JSON",0);var obj;try{obj=JSON.parse(this.textRap),obj=eval("("+obj.modelJSON+")")}catch(e){return void $.tip("JSON格式有错误",0)}var _this=this;this.savePending=!0;var update={json:JSON.stringify(obj),bodytype:this.rapBodyType};session.get("teamId")&&(update.team=session.get("teamId")),net.post("/project/importrap",update).then(function(e){_this.savePending=!1,200==e.code?($.notify("导入成功",1),session.get("teamId")?(_this.$parent.obj.project.unshift(e.data),bus.$emit("updateTeamProject",1,e.data.interfaceCount)):_this.$store.commit("addProjectCreate",e.data),_this.$refs.box.close()):$.notify(e.msg,0)})}else if(3==this.type){if(0==this.swaggerType){if(!this.textSwaggerURL)return void $.tip("请输入url地址",0)}else if(1==this.swaggerType&&!this.textSwaggerJSON)return void $.tip("请输入JSON",0);var obj;if(1==this.swaggerType)try{obj=JSON.parse(this.textSwaggerJSON)}catch(e){return void $.tip("JSON格式有错误",0)}var _this=this;this.savePending=!0;var update={};0==this.swaggerType?update.url=this.textSwaggerURL:update.json=this.textSwaggerJSON,session.get("teamId")&&(update.team=session.get("teamId")),net.post("/project/importswagger",update).then(function(e){_this.savePending=!1,200==e.code?($.notify("导入成功",1),session.get("teamId")?(_this.$parent.obj.project.unshift(e.data),bus.$emit("updateTeamProject",1,e.data.interfaceCount)):_this.$store.commit("addProjectCreate",e.data),_this.$refs.box.close()):$.notify(e.msg,0)})}}}}}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(2))},6:function(e,t,n){(function(t,n){e.exports={data:function(){return{session:t.clone(n.raw())}},created:function(){var e=this;document.addEventListener("cookieChange",function(t){e.session[t.key]=t.value})}}}).call(t,n(0),n(3))},8:function(e,t,n){var o=n(10),r={bind:function(e,t){if(e.src="/html/web/pic/logo.png",t.value){var n=new Image;n.src=o.host+t.value,n.onload=function(){e.src=n.src}}},unbind:function(e){},update:function(e,t){if(t.oldValue!=t.value&&t.value){var n=new Image;n.src=o.host+t.value,e.src="/html/web/pic/logo.png",n.onload=function(){e.src=n.src}}}};e.exports=r},87:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"box",attrs:{title:"导入",size:"small"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("el-row",{staticClass:"row",staticStyle:{height:"50px","line-height":"50px"}},[e._v("\n        导入类型：   \n        "),n("el-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[n("el-option",{attrs:{label:"PostMan V2 JSON",value:0}}),e._v(" "),n("el-option",{attrs:{label:"DOClever JSON",value:1}}),e._v(" "),n("el-option",{attrs:{label:"RAP JSON",value:2}}),e._v(" "),n("el-option",{attrs:{label:"Swagger",value:3}})],1)],1),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"1px","background-color":"rgb(247,246,242)","margin-bottom":"10px"}}),e._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:0==e.type,expression:"type==0"}],staticClass:"row"},[n("el-input",{directives:[{name:"drag",rawName:"v-drag",value:"text",expression:"'text'"}],staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",rows:10,placeholder:"请输入JSON"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),e._v("\n        请编辑BaseUrl：\n        "),n("el-checkbox",{staticStyle:{float:"right","margin-right":"20px"},attrs:{"true-label":1,"false-label":0},model:{value:e.ignore,callback:function(t){e.ignore=t},expression:"ignore"}},[e._v("\n            忽略大小写\n        ")]),e._v(" "),e._l(e.arr,function(t,o){return[n("el-row",{staticClass:"row",staticStyle:{height:"50px","line-height":"50px","text-align":"center"}},[n("el-col",{staticClass:"col",attrs:{span:20}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写baseurl地址"},model:{value:t.title,callback:function(e){t.title=e},expression:"item.title"}})],1),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:2}},[n("el-button",{staticStyle:{color:"red","font-size":"15px"},attrs:{type:"text",size:"small",icon:"close"},on:{click:function(t){e.remove(o)}}})],1),e._v(" "),n("el-col",{staticClass:"col",attrs:{span:2}},[o==e.arr.length-1?n("el-button",{staticStyle:{"font-size":"15px"},attrs:{size:"small",type:"text",icon:"plus"},on:{click:function(t){e.arr.push({title:""})}}}):e._e()],1)],1)]})],2),e._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.type,expression:"type==1"}],staticClass:"row"},[n("el-input",{directives:[{name:"drag",rawName:"v-drag",value:"textMy",expression:"'textMy'"}],attrs:{type:"textarea",rows:10,placeholder:"请输入JSON"},model:{value:e.textMy,callback:function(t){e.textMy=t},expression:"textMy"}})],1),e._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"type==2"}],staticClass:"row"},[n("el-input",{directives:[{name:"drag",rawName:"v-drag",value:"textRap",expression:"'textRap'"}],attrs:{type:"textarea",rows:10,placeholder:"请输入JSON"},model:{value:e.textRap,callback:function(t){e.textRap=t},expression:"textRap"}}),e._v(" "),n("el-row",{staticClass:"row",staticStyle:{height:"20px"}}),e._v(" "),n("el-row",{staticClass:"row"},[e._v("\n            Body Type:   \n            "),n("el-select",{model:{value:e.rapBodyType,callback:function(t){e.rapBodyType=t},expression:"rapBodyType"}},[n("el-option",{attrs:{value:0,label:"x-www-form-urlencoded"}}),e._v(" "),n("el-option",{attrs:{value:1,label:"application/json"}})],1)],1)],1),e._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:3==e.type,expression:"type==3"}],staticClass:"row"},[e._v("\n        Swagger类型:   \n        "),n("el-select",{model:{value:e.swaggerType,callback:function(t){e.swaggerType=t},expression:"swaggerType"}},[n("el-option",{attrs:{value:0,label:"URL"}}),e._v(" "),n("el-option",{attrs:{value:1,label:"JSON"}})],1),n("br"),n("br"),e._v(" "),n("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.swaggerType,expression:"swaggerType==0"}],attrs:{placeholder:"请输入Swagger URL"},model:{value:e.textSwaggerURL,callback:function(t){e.textSwaggerURL=t},expression:"textSwaggerURL"}}),e._v(" "),n("el-input",{directives:[{name:"drag",rawName:"v-drag",value:"textSwaggerJSON",expression:"'textSwaggerJSON'"},{name:"show",rawName:"v-show",value:1==e.swaggerType,expression:"swaggerType==1"}],attrs:{type:"textarea",rows:10,placeholder:"请输入Swagger Url"},model:{value:e.textSwaggerJSON,callback:function(t){e.textSwaggerJSON=t},expression:"textSwaggerJSON"}})],1),e._v(" "),n("el-row",{staticClass:"row"},[e._v(e._s(e.status))]),e._v(" "),n("el-row",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.savePending},on:{click:e.save}},[e._v("\n            保存\n        ")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},9:function(e,t,n){var o=n(1)(n(11),n(15),null,null);o.options.__file="/Users/sunxin/DOClever/Client/web/component/mainNav.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] mainNav.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},91:function(e,t,n){(function(t){e.exports=new t}).call(t,n(5))}},[351]);