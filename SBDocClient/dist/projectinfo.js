webpackJsonp([5],{259:function(t,e,o){(function(t,e,n,i){var a=o(8),r=o(28),p=o(30),c=o(27),s=o(35),d=o(36),l=(o(11),o(6)),g=o(26);t.get("id")?t.get("projectId")||(location.href="../project/project.html"):location.href="../login/login.html",t.remove("snapshotId"),t.remove("snapshotDis"),t.remove("snapshotCreator"),t.remove("snapshotDate"),e.component("itemauto",g);var h=new e({el:"#app",data:{session:n.clone(t.raw()),type:0,arrApply:[],showApply:!1},components:{mainnav:a,interface:r,setting:p,global:c,test:s,version:d},methods:{handleApply:function(e,o){n.startHud(),i.put("/project/handleapply",{id:t.get("projectId"),apply:e._id,state:o}).then(function(t){n.stopHud(),200==t.code?1==o?(e.handle=1,setTimeout(function(){location.href="../project/project.html"},1e3)):e.handle=2:(e.handle=3,n.notify(t.msg,0))})}},created:function(){var e=this;Promise.all([i.get("/project/interface",{id:t.get("projectId")}),i.get("/project/info",{id:t.get("projectId")}),i.get("/status/list",{id:t.get("projectId")}),i.get("/test/list",{project:t.get("projectId")}),i.get("/project/applylist",{id:t.get("projectId")}),i.get("/version/list",{project:t.get("projectId"),page:0})]).then(function(t){n.stopLoading();var o=t[0],i=t[1],a=t[2],r=t[3],p=t[4],c=t[5];if(200!=o.code)throw o.msg;if(l.$emit("initInterface",o.data),200!=i.code)throw i.msg;if(l.$emit("initInfo",i.data),200!=a.code)throw a.msg;if(l.$emit("initStatus",a.data),200!=r.code)throw r.msg;if(l.$emit("initTest",r.data),200!=p.code)throw p.msg;if(p.data.forEach(function(t){t.handle=0}),e.arrApply=p.data,e.arrApply.length>0&&(e.showApply=!0),200!=c.code)throw c.msg;l.$emit("initVersion",c.data)}).catch(function(t){n.stopLoading(),"string"==typeof t?n.notify(t,0):n.notify("获取失败",0)})}});window.vueObj=h,n.ready(function(){n.startLoading()})}).call(e,o(2),o(4),o(0),o(3))}},[259]);